

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/jg-square.png">
  <link rel="icon" href="/img/jg.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="jin">
  <meta name="keywords" content="">
  
    <meta name="description" content="è‡ªå›å½’æ¨¡å‹ (N-gram, NLM, RNN &amp; Transformer), è‡ªå›å½’è¯­è¨€æ¨¡å‹çš„è®­ç»ƒä¸æ¨ç†.">
<meta property="og:type" content="article">
<meta property="og:title" content="ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 3 è‡ªå›å½’æ¨¡å‹">
<meta property="og:url" content="https://disembo.github.io/Note/Course/gen-models/3/index.html">
<meta property="og:site_name" content="Jin&#39;s Blog">
<meta property="og:description" content="è‡ªå›å½’æ¨¡å‹ (N-gram, NLM, RNN &amp; Transformer), è‡ªå›å½’è¯­è¨€æ¨¡å‹çš„è®­ç»ƒä¸æ¨ç†.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-fixed-window-nlm.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-rnn-ar.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-transformer-ar.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-transformer-ar-shortcut.png">
<meta property="article:published_time" content="2025-10-13T14:00:00.000Z">
<meta property="article:modified_time" content="2025-11-24T12:04:42.218Z">
<meta property="article:author" content="jin">
<meta property="article:tag" content="æœºå™¨å­¦ä¹ ">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-fixed-window-nlm.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 3 è‡ªå›å½’æ¨¡å‹ | Jin&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/css/additional.css">
<link rel="stylesheet" href="/css/html-hint.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"disembo.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"#"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":3},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<!-- hexo injector head_end start --><script src="/js/mathjax-cfg.js"></script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Jin&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>Links</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 3 è‡ªå›å½’æ¨¡å‹"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-10-13 22:00" pubdate>
          2025å¹´10æœˆ13æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 3 è‡ªå›å½’æ¨¡å‹</h1>
            
            
              <div class="markdown-body">
                
                <html><head></head><body>
<h2 id="è‡ªå›å½’æ¨¡å‹">7  è‡ªå›å½’æ¨¡å‹</h2>
<p>è®¾æ•°æ®ä¸ºé«˜ç»´å‘é‡ <span class="math inline">\(x=(x_1,\cdots,x_L)\in\R^L\)</span>,
æˆ‘ä»¬çš„ç›®çš„æ˜¯å»ºæ¨¡ <span class="math inline">\(p(X=x)\)</span>.
è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§å¾ˆå¤§çš„è”åˆåˆ†å¸ƒ, è€ƒè™‘ç”¨é“¾å¼æ³•åˆ™å±•å¼€: <span class="math display">\[
\Align{
p(X=x)
&amp;= p(X_1=x_1,\dots,X_D=x_D) \\
&amp;= p(X_1=x_1) \prod_{i=2}^L p(X_i=x_i \mid
X_1=x_1,\dots,X_{i-1}=x_{i-1}).
}
\]</span> å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¨¡å‹å¯ä»¥å»ºæ¨¡ <span class="math inline">\(p_\theta(x_i\mid x_2,\dots,x_{i-1})\)</span> ä»¥åŠ
<span class="math inline">\(p_\theta(x_1)\)</span>, é‚£ä¹ˆå°±æœ‰äº† <span class="math inline">\(p_\theta(x)\)</span>. è¿™å°±æ˜¯<strong>è‡ªå›å½’æ¨¡å‹
(autoregressive models)</strong>. â€œè‡ªå›å½’â€ æŒ‡çš„æ˜¯å°†å½“å‰æ­¥éª¤çš„ä¸­é—´ç»“æœ
<span class="math inline">\((x_1,\dots,x_i)\)</span> å†é€å›æ¨¡å‹ç”Ÿæˆ
<span class="math inline">\(x_{i+1}\)</span> çš„è¿‡ç¨‹.</p>
<p>åˆ†è§£ (factorization) çš„é¡ºåºå¤šç§å¤šæ ·, å¯¹äºè‡ªç„¶è¯­è¨€æ¥è¯´,
å¯ä»¥æ˜¯ä»å·¦åˆ°å³ã€ä»å³åˆ°å·¦, ç”šè‡³æ˜¯éšæœºé¡ºåº. å¯¹äºå›¾ç‰‡æ¥è¯´,
å¯ä»¥æ˜¯æ‰«æåºã€è›‡å½¢æ›²çº¿ã€Z å­—å‹æ›²çº¿ã€éšæœºåºâ€¦â€¦</p>
<ul>
<li>ä¸€äº›è¯­è¨€, æ¯”å¦‚ä¸­æ–‡ã€è‹±è¯­, ä¸€èˆ¬ç”¨ä½¿ç”¨ä»å·¦åˆ°å³é¡ºåºå»ºæ¨¡
(æ ¹æ®å‰é¢çš„è¯é¢„æµ‹ä¸‹ä¸€ä¸ªè¯); å¦ä¸€äº›è¯­è¨€, æ¯”å¦‚æ—¥è¯­,
å¯èƒ½ä½¿ç”¨ä»å³åˆ°å·¦çš„é¡ºåºå»ºæ¨¡æ¯”è¾ƒå¥½: <span class="math inline">\(p_\theta(X_i\mid
X_{i+1}=x_{i+1},\dots,X_L=x_L)\)</span> (æ ¹æ®åé¢çš„è¯é¢„æµ‹ä¸Šä¸€ä¸ªè¯).</li>
</ul>
<p>è‡ªå›å½’æ¨¡å‹æ˜¯ç›®å‰ NLP é¢†åŸŸæœ€å…ˆè¿›ã€æœ€æˆåŠŸçš„èŒƒå¼, åé¢ä¸»è¦ä»‹ç» NLP
é¢†åŸŸçš„è‡ªå›å½’æ¨¡å‹.</p>
<h3 id="n-gram-models">7.1  N-gram models</h3>
<p>N-gram æ˜¯ä¸€ç§è¿œå¤çš„éå‚æ•°åŒ–æ–¹æ³•<span class="hint--html hint--top hint--hoverable hint--rounded hint--autosize"><hcontent class="hint__content">Non-parametric method, å‚æ•°ä¸ªæ•°ä¸å›ºå®š,
éšç€è®­ç»ƒæ•°æ®è€Œå˜åŒ–.</hcontent><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref" style="text-decoration: none;"><sup>[1]</sup></a></span>,
æ˜¯ä¸€ä¸ªä»å·¦åˆ°å³çš„è¯­è¨€æ¨¡å‹. N-gram æœ‰ä¸€ä¸ªéå¸¸å¼ºçš„å‡è®¾ (Markov å‡è®¾),
å³å½“å‰ token <span class="math inline">\(x_i\)</span> åªä¾èµ–äºå‰ <span class="math inline">\(k\)</span> ä¸ª tokens, å³ <span class="math display">\[
p(x_i\mid x_1,\dots,x_{i-1}) = p(x_i\mid x_{i-1},\dots,x_{i-k}).
\]</span> ä½¿ç”¨æ¡ä»¶æ¦‚ç‡çš„å®šä¹‰å±•å¼€å³å¼, <span class="math display">\[
p(x_i\mid x_{i-1},\dots,x_{i-k})
= \frac{p(x_{i-k},\dots,x_{i-1},x_i)}{p(x_{i-k},\dots,x_{i-1})},
\]</span> è¿ç»­çš„ <span class="math inline">\(k\)</span>
ä¸ªè¯ç»„æˆçš„ç‰‡æ®µç§°ä¸ºä¸€ä¸ª <span class="math inline">\(k\)</span>-gram,
æ¨¡å‹çš„å‚æ•°ä¸Šå¼å³ä¾§çš„ <span class="math inline">\(k\)</span>-gram ä»¥åŠ
<span class="math inline">\((k+1)\)</span>-gram æ¦‚ç‡, å› æ­¤è¯¥æ¨¡å‹ç§°ä¸º
<span class="math inline">\((k+1)\)</span>-gram æ¨¡å‹.</p>
<ul>
<li>ä¸€ä¸ª <span class="math inline">\((k+1)\)</span>-gram
æ¨¡å‹å®é™…ä¸Šéœ€è¦åŒ…å«æ‰€æœ‰ <span class="math inline">\(1,2,\dots,(k+1)\)</span>-gram çš„å‡ºç°æ¦‚ç‡,
å› ä¸ºé“¾å¼æ³•åˆ™ <span class="math display">\[
p(x_1,\dots,x_n)
= \blue{p(x_1)p(x_2\mid x_1)\cdots p(x_k\mid x_{1:k-1})}
\prod_{i=k+1}^L p(x_i\mid x_{1:i-1})
\]</span> éœ€è¦èµ·å§‹æ¡ä»¶.</li>
</ul>
<p>ä½¿ç”¨ MLE ä¼°è®¡å‚æ•°ä¸º <span class="math display">\[
p(x_{i:i+k}) = \frac
{\textsf{æ•°æ®ä¸­ }(x_{i:i+k})\textsf{ çš„æ•°é‡}}
{\textsf{æ•°æ®ä¸­æ‰€æœ‰ }k\textsf{-gram çš„æ•°é‡}}
\]</span> ç­‰ç­‰.</p>
<p>N-gram çš„é—®é¢˜:</p>
<ul>
<li>å½“ <span class="math inline">\(N\)</span> æ¯”è¾ƒå°, ä¸Šä¸‹æ–‡é•¿åº¦å¤ªçŸ­,
ç”Ÿæˆçš„å‡†ç¡®ç‡å¾ˆä½.</li>
<li>å½“ <span class="math inline">\(N\)</span> æ¯”è¾ƒå¤§,
å‚æ•°ä¸ªæ•°ä»¥åŠå­˜å‚¨ç©ºé—´å¤§å¹…åº¦ä¸Šå‡. å¹¶ä¸”å› ä¸ºè®­ç»ƒæ•°æ®æœ‰é™, N-gram
çš„æ¦‚ç‡éå¸¸ç¨€ç–, æ„å‘³ç€å¤§éƒ¨åˆ†æ¦‚ç‡ <span class="math inline">\(p(x_{i:i+k})\)</span> éƒ½ä¸ºé›¶,
ç”Ÿæˆçš„è´¨é‡åè€Œå¯èƒ½ä¸‹é™.</li>
</ul>
<h3 id="fixed-window-neural-lm">7.2  Fixed-window neural LM</h3>
<p>è‡ªå›å½’å»ºæ¨¡ä¸å˜, Markov å‡è®¾ä¹Ÿä¸å˜, åªä¸è¿‡ä¸è¦æ•°æ•°
(counting)â€”â€”è€Œæ˜¯ç”¨å‚æ•°åŒ–çš„ç¥ç»ç½‘ç»œ <span class="math display">\[
p_\theta(x_i\mid x_{i-k:i-1}).
\]</span></p>
<p>é¦–å…ˆå°†è¿™ <span class="math inline">\(k\)</span> ä¸ª tokens
è½¬åŒ–ä¸ºåµŒå…¥å‘é‡ <span class="math inline">\(e_i\in\R^D\)</span>,
å†ç»è¿‡ä¸€ä¸ªéšè—å±‚ (çº¿æ€§æ˜ å°„+æ¿€æ´», è§†ä½œä¸Šä¸‹æ–‡æ•´åˆ), æœ€åç»è¿‡ä¸€ä¸ªçº¿æ€§å±‚å’Œ
softmax è½¬åŒ–ä¸ºä¸‹ä¸€ä¸ª token <span class="math inline">\(x_i\)</span>
çš„æ¦‚ç‡åˆ†å¸ƒ.</p>
<p><img src="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-fixed-window-nlm.png" style="zoom:40%;" cloud-img="" lazyload="true"></p>
<p>It is still an N-gram LM, but why it works better?</p>
<ul>
<li>å¤šå±‚çš„ç»“æ„ä½¿å¾—ç‰¹å¾å¯ä»¥ç»„åˆ.</li>
<li>We can search through a lot more conjunctive features through high
dimensional feature representations, especially for neural models the
amazing word embeddings!</li>
<li>å¯ä»¥åŒæ—¶è®­ç»ƒè¯åµŒå…¥å’Œ FFNN.</li>
</ul>
<p>ç„¶è€Œ, è¯¥ç½‘ç»œå¹¶æœªè§£å†³ä¸Šä¸‹æ–‡ä¸è¶³çš„é—®é¢˜.</p>
<h3 id="rnns">7.3  RNNs</h3>
<p>èƒ½å¦æ„é€ ä¸€ä¸ªç¥ç»ç½‘ç»œ, å…¶å¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„ä¸Šä¸‹æ–‡?</p>
<p><strong>RNN (recurrent neural network)</strong>
æ˜¯ä¸€ä¸ªåºåˆ—åˆ°åºåˆ—çš„æ˜ å°„ <span class="math inline">\((x_t)\mapsto(y_t)\)</span>, å®ƒç”¨ä¸€ä¸ªéšçŠ¶æ€ <span class="math inline">\(\orange{h_t}\)</span> è®°å¿†æ‰€æœ‰çš„å†å²è¾“å…¥,
å¹¶ä¸æ–­åœ°ç”¨å½“å‰çš„è¾“å…¥ <span class="math inline">\(x_t\)</span>
æ›´æ–°è¿™ä¸ªéšçŠ¶æ€: <span class="math display">\[
\orange{h_t} = f_\theta(\orange{h_{t-1}},x_t),
\]</span> æ›´æ–°åçš„éšçŠ¶æ€ç»è¿‡ä¸€ä¸ªæ˜ å°„å¾—åˆ°å½“å‰è¾“å‡º, <span class="math display">\[
y_t = g_\theta(\orange{h_t}).
\]</span> å¦‚ä½•ç”¨ RNN è¿›è¡Œè‡ªå›å½’å»ºæ¨¡å‘¢? é¦–å…ˆè¾“å…¥ä¸€ä¸ªç‰¹æ®Šçš„å¼€å§‹æ ‡è®° <span class="math inline">\(\tilde{x}_0=\texttt{[SOS]}\)</span> (start of
sequence) è®© RNN è¾“å‡º <span class="math inline">\(x_1\)</span>, å†æŠŠ
<span class="math inline">\(x_1\)</span> å–‚ç»™ RNN è®©å®ƒç”Ÿæˆ <span class="math inline">\(x_2\)</span>, ä»¥æ­¤ç±»æ¨â€¦â€¦ ä¾¿å®ç°äº†è‡ªå›å½’ç”Ÿæˆ.</p>
<p>å¦‚ä½•è®­ç»ƒ RNN? å¯¹äºä¸€æ¡è®­ç»ƒæ•°æ® <span class="math inline">\((\tilde{x}_i)\in\R^L\)</span>, ä¾æ¬¡ç»™æ¨¡å‹è¾“å…¥
<span class="math inline">\(\tilde{x}_0,\tilde{x}_1,\dots,\tilde{x}_{L-1}\)</span>,
RNN ä¼šä¾æ¬¡è¾“å‡º token æ¦‚ç‡åˆ†å¸ƒçš„é¢„æµ‹å€¼ <span class="math inline">\(p_\theta(x_1),p_\theta(x_2\mid\tilde{x}_1),\dots,p_\theta(x_L\mid\tilde{x}_{1:L-1})\)</span>,
å¦‚ä¸‹å›¾æ‰€ç¤º. å¯ä»¥ä½¿ç”¨ MLE è¿›è¡Œå‚æ•°å­¦ä¹ , å³æœ€å°åŒ–è´Ÿå¯¹æ•°ä¼¼ç„¶ (NLL) <span class="math display">\[
\Align{
\operatorname{NLL}(\tilde{x};\theta)
&amp;= -\log{p_\theta(\tilde{x})} \\
&amp;= -\log{p_\theta(x_1)}
    -\sum_{i=2}^L \log{p_\theta(\tilde{x}_i \mid \tilde{x}_{1:i-1})}.
}
\]</span>
<img src="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-rnn-ar.png" style="zoom:40%;" cloud-img="" lazyload="true"></p>
<p>Pros:</p>
<ul>
<li>å¯ä»¥ç”¨äºä»»æ„é•¿åº¦çš„åºåˆ—</li>
<li>å‚æ•°é‡å›ºå®š (parametric model)</li>
<li>é«˜åº¦éçº¿æ€§</li>
</ul>
<p>Cons:</p>
<ul>
<li>è®­ç»ƒç‰¹åˆ«æ…¢, æ²¡åŠæ³•å¹¶è¡ŒåŒ– (linearly depends on sentence length)</li>
<li>æ¢¯åº¦çˆ†ç‚¸ã€æ¢¯åº¦æ¶ˆå¤±ç­‰é—®é¢˜ (check papers related to LSTM)</li>
</ul>
<h3 id="transformers">7.4  Transformers</h3>
<p>RNN é¢ä¸´è®­ç»ƒç¼“æ…¢ã€é•¿è·ç¦»ä¾èµ–å»ºæ¨¡ä¸è¶³ç­‰é—®é¢˜.
æˆ‘ä»¬èƒ½ä¸èƒ½æ„é€ ä¸€ç§ç¥ç»ç½‘ç»œ, å®ƒèƒ½ä¸€ä¸‹å­è¾“å…¥<em>æ•´ä¸ª</em>è®­ç»ƒåºåˆ— <span class="math inline">\((\tilde{x}_0,\tilde{x}_1,\dots,\tilde{x}_{L-1})\)</span>,
ç„¶åå¯¹å…¶<em>æ•´ä½“åŠ å·¥</em>, å†ä¸€ä¸‹å­è¾“å‡º<em>æ•´ä¸ª</em>é¢„æµ‹åºåˆ— <span class="math inline">\((p_\theta(x_1),p_\theta(x_2\mid
\tilde{x}_1),\dots)\)</span>?</p>
<p>è¿™ä¸æ­£å¥½å°±æ˜¯ä¸Šä¸€æ¬¡è®²çš„ Transformer å—?</p>
<ul>
<li>Transformer è®©è¾“å…¥åºåˆ— <span class="math inline">\((\tilde{x}_0,\tilde{x}_1,\dots,\tilde{x}_{L-1})\)</span>
ç»è¿‡ embedding å’Œè‹¥å¹² Transformer block ä¹‹å, è¾“å‡ºå«æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯çš„
latent åºåˆ— <span class="math inline">\((z_0,z_1,\dots,z_{L-1})\)</span>.</li>
</ul>
<p>æ­¤æ—¶åªéœ€è¦å†æ¥ä¸€ä¸ªçº¿æ€§å±‚ (linear projection) å°±å¯ä»¥å°† latent <span class="math inline">\(z_i\)</span> è½¬åŒ–ä¸ºæ¦‚ç‡åˆ†å¸ƒ <span class="math inline">\(p(x_{i+1}\mid\tilde{x}_{1:i})\)</span>,
å¦‚ä¸‹å›¾æ‰€ç¤º.</p>
<p><img src="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-transformer-ar.png" style="zoom:40%;" cloud-img="" lazyload="true"></p>
<p>ç„¶è€ŒåŸç”Ÿçš„ Transformer ä¸èƒ½ç›´æ¥ç”¨äºè‡ªå›å½’ä»»åŠ¡.
è‡ªå›å½’ä»»åŠ¡è¦æ±‚æ¨¡å‹åœ¨é¢„æµ‹ <span class="math inline">\(x_i\)</span> æ—¶,
åªèƒ½çœ‹è§<em>å‰é¢çš„</em> tokens <span class="math inline">\(x_1,\dots,x_{i-1}\)</span>, ç„¶è€Œ Transformer çš„
self attention æ¨¡å—å´è€ƒè™‘äº†<em>æ¯ä¸ª</em> token <span class="math inline">\(j\)</span> å¯¹ token <span class="math inline">\(i\)</span> çš„è´¡çŒ®: <span class="math display">\[
a_{ij} = \frac{\exp(s_{ij})}{\sum_{k=1}^L \exp(s_{ik})},
\]</span> è¿™å°±å¯¼è‡´ Transformer èƒ½æ‰¾åˆ°ä¸€æ¡
shortcutâ€”â€”ç›´æ¥å°†åä¸€ä¸ªè¾“å…¥æ‹·è´åˆ°è¾“å‡º, å¦‚ä¸‹å›¾çš„çº¢è‰²ç®­å¤´.</p>
<p><img src="https://raw.githubusercontent.com/Disembo/blog-media/master/course/gen-models/3-transformer-ar-shortcut.png" style="zoom:40%;" cloud-img="" lazyload="true"></p>
<p>è¿™æ ·è‚¯å®šä¸è¡Œ.</p>
<ul>
<li>æ¨¡å‹åœ¨è®­ç»ƒ / æµ‹è¯•çš„æ—¶å€™æ‰¾åˆ°äº†ä½œå¼Šçš„æ·å¾„, å¯ä»¥è¾¾åˆ°å¾ˆä½å¾ˆä½çš„ loss /
eval metric.</li>
<li>ä½†åœ¨çœŸå®ä½¿ç”¨çš„æ—¶å€™, å¹¶æ²¡æœ‰ GT, æ•´ä¸ªåºåˆ—éƒ½æ˜¯æ¨¡å‹ä»é›¶å¼€å§‹ç”Ÿæˆçš„,
æ·å¾„ä¸ç®¡ç”¨äº†, å¯¼è‡´ç”Ÿæˆçš„ç»“æœéå¸¸å·®.</li>
</ul>
<p>è§£å†³åŠæ³•å¾ˆç®€å•â€”â€”å½“ <span class="math inline">\(j&gt;i\)</span> æ—¶,
å¼ºè¡ŒæŠŠ <span class="math inline">\(s_{ij}\)</span> è®¾ä¸º <span class="math inline">\(-\infty\)</span> å³å¯, ç›¸åº”çš„ <span class="math inline">\(\exp(s_{ij})=0\)</span>, ä¹Ÿå³ <span class="math inline">\(a_{ij}=0\)</span>. ç”¨çŸ©é˜µå½¢å¼å†™å‡ºæ¥å°±æ˜¯ <span class="math display">\[
A = \operatorname{softmax} \bigl( QK\T/\sqrt{D} + \orange{M} \bigr),
\]</span></p>
<p>å…¶ä¸­ <span class="math inline">\(M\in\R^{L\times L}\)</span>
æ˜¯ä¸Šä¸‰è§’çŸ©é˜µ, <span class="math display">\[
M = \pmqty{
0 &amp; -\infty &amp; -\infty &amp; \cdots &amp; -\infty \\
0 &amp;       0 &amp; -\infty &amp; \cdots &amp; -\infty \\
\vdots &amp; \vdots &amp; \ddots &amp; \ddots &amp; \vdots \\
0 &amp;       0 &amp; \cdots  &amp;      0 &amp; -\infty \\
0 &amp;       0 &amp; \cdots  &amp;      0 &amp;       0
}.
\]</span></p>
<p>çŸ©é˜µ <span class="math inline">\(M\)</span> ä¹Ÿç§°ä¸º causal mask
(å› æœæ©ç ) æˆ–è€… teacher forcing mask.</p>
<div class="note note-warning">
<p><u>Note</u> æ‰€è°“ teacher forcing, æŒ‡çš„å°±ä¸Šé¢æåˆ°çš„ AR æ¨¡å‹çš„è®­ç»ƒæ–¹å¼.
æ¨¡å‹çš„è¾“å…¥æ˜¯ GT <span class="math inline">\(\tilde{x}_{1:i}\)</span>
(æ­£ç¡®æ— è¯¯çš„åºåˆ—), æ ¹æ® GT é¢„æµ‹ä¸‹ä¸€ä¸ª token <span class="math inline">\(p_\theta(x_{i+1}\mid\tilde{x}_{1:i})\)</span>.
å› æ­¤è¿™ç§ AR æ¨¡å‹éšå«äº†ä¸€ä¸ªå‡è®¾:</p>
<ul>
<li>æ¨¡å‹åœ¨ç”Ÿæˆå½“å‰è¯æ—¶, å…¶æ‰€ä¾èµ–çš„æ‰€æœ‰å…ˆå‰è¯éƒ½æ˜¯ <span class="math inline">\(100\%\)</span> æ­£ç¡®çš„.</li>
</ul>
<p>è™½ç„¶ teacher forcing ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¹¶è¡ŒåŒ–è¾“å…¥, ä½†ä¹Ÿå­˜åœ¨é—®é¢˜:</p>
<ul>
<li>è®­ç»ƒç¯å¢ƒ (çš„è¾“å…¥) æ˜¯å®Œç¾æ— é”™è¯¯çš„, ç„¶è€Œåœ¨å®é™…æ¨ç†ä¸­,
æ¨¡å‹åªèƒ½ä»¥ä¸Šä¸€æ­¥çš„é¢„æµ‹ç»“æœ (å¾ˆå¯èƒ½æ˜¯é”™è¯¯çš„) ä½œä¸ºä¸‹ä¸€æ­¥çš„è¾“å…¥.</li>
<li>æ¨¡å‹ä»æœªåœ¨å®ƒè‡ªå·±çš„é”™è¯¯è¾“å‡ºä¸Šä¸‹æ–‡ä¸‹è¿›è¡Œè®­ç»ƒ.
å½“æ¨ç†æ—¶æ¨¡å‹çŠ¯ä¸‹ç¬¬ä¸€ä¸ªé”™è¯¯, è¿™ä¸ªé”™è¯¯å°±ä¼šç´¯ç§¯,
æ¨¡å‹å°±ä¼šè¿›å…¥ä¸€ä¸ªåœ¨è®­ç»ƒä¸­ä»æœªè§è¿‡çš„ã€ä½æ¦‚ç‡çš„è¾“å…¥ç©ºé—´,
å¯¼è‡´ç”Ÿæˆè´¨é‡è¿…é€Ÿä¸‹é™æˆ–â€œèƒ¡è¨€ä¹±è¯­â€.</li>
</ul>
<p>è¿™ç§°ä¸º<strong>æš´éœ²åå·® (exposure bias)</strong>.</p>
<p>ä¸ºäº†ç¼“è§£æš´éœ²åå·®, ç ”ç©¶äººå‘˜æå‡ºäº†å„ç§æŠ€å·§, å¦‚<strong>è®¡åˆ’é‡‡æ ·
(scheduled sampling)</strong>, å®ƒåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é€æ¸å‡å°‘ä½¿ç”¨ GT çš„é¢‘ç‡,
è½¬è€Œä½¿ç”¨æ¨¡å‹è‡ªå·±çš„é¢„æµ‹ä½œä¸ºè¾“å…¥, ä»è€Œè®©æ¨¡å‹ â€œé€‚åº”â€
çœŸå®ä¸–ç•Œçš„æ¨ç†ç¯å¢ƒ.</p>
</div>
<h2 id="è¯­è¨€æ¨¡å‹">8  è¯­è¨€æ¨¡å‹</h2>
<h3 id="training">8.1  Training</h3>
<p>è¯­è¨€æ¨¡å‹ (LM) æ¨¡å‹çš„è®­ç»ƒç›®æ ‡å‰æ–‡å·²ç»ç»™å‡º, ä¸å†èµ˜è¿°.</p>
<p>åŸºäº Transformer çš„ LM ä¸å¥½è®­, éœ€è¦è®¸å¤šæŠ€å·§,
å°¤å…¶æ˜¯å·¥ä¸šçº§åˆ«çš„å¤§è¯­è¨€æ¨¡å‹.</p>
<ul>
<li>æ··åˆç²¾åº¦è®­ç»ƒ:
<ul>
<li>é™¤æ³•é«˜ç²¾åº¦</li>
<li>çŸ©é˜µä¹˜æ³•ä½ç²¾åº¦</li>
</ul></li>
<li>Large batch è®­ç»ƒ:
<ul>
<li>è®­ç»ƒæ•°æ®é›† 3.4B ~ 4T tokens.</li>
<li>æ¯ä¸ª batch è‡³å°‘ 1M tokens (512 token/seq * 2048 seq).</li>
<li>æ˜¾å­˜æœ‰é™, æ²¡åŠæ³•ä¸€ä¸‹å­åŠ åœ¨è¿™ä¹ˆå¤§çš„ batch, éœ€è¦ gradient
accumulation.</li>
</ul></li>
<li>è®©è®­ç»ƒæ›´ç¨³å®š:
<ul>
<li>Small dropout</li>
<li>å­¦ä¹ ç‡ warm up</li>
<li>Gradient clipping</li>
</ul></li>
</ul>
<h3 id="evaluation">8.2  Evaluation</h3>
<p>è‡ªå›å½’ LM çš„è®­ç»ƒç›®æ ‡æ˜¯æœ€å°åŒ–è´Ÿå¯¹æ•°ä¼¼ç„¶ <span class="math display">\[
\Align{
\operatorname{NLL}(\tilde{x};\theta)
= -\log{p_\theta(x_1)}
    -\sum_{i=2}^L \log{p_\theta(\tilde{x}_i \mid \tilde{x}_{1:i-1})}.
}
\]</span> ä½†æ˜¯ç”±äº NLL ä¾èµ–äºåºåˆ—é•¿åº¦ <span class="math inline">\(L\)</span> (é•¿çš„å¥å­ NLL æ¯”è¾ƒå¤§),
æ‰€ä»¥ä¸å¤ªé€‚åˆç”¨æ¥è¯„ä»·ä¸€ä¸ª NLL æ˜¯å¥½æ˜¯å. å°†å…¶å½’ä¸€åŒ–å¾—åˆ° per-word çš„ NLL,
<span class="math display">\[
\operatorname{WNLL}(x;\theta) := \frac{1}{L}
\operatorname{NLL}(x;\theta),
\]</span> å–æŒ‡æ•°å¾—åˆ°<strong>å›°æƒ‘åº¦ (perplexity)</strong> <span class="math display">\[
\operatorname{ppl}(x;\theta) := \exp(\operatorname{WNLL}(x;\theta)).
\]</span> å›°æƒ‘åº¦æ˜¯ä¸€ä¸ªç»å…¸çš„ç”Ÿæˆæ¨¡å‹æŒ‡æ ‡.</p>
<ul>
<li>ç»™å®šæµ‹è¯•é›† <span class="math inline">\(\{s_i\}\)</span>,
è®¡ç®—æ¨¡å‹åœ¨å…¶ä¸Šçš„å¹³å‡å›°æƒ‘åº¦ <span class="math inline">\(\frac{1}{N}\sum_{i=1}^N\operatorname{ppl}(s_i;\theta)\)</span>.
å›°æƒ‘åº¦è¶Šä½, æ¨¡å‹è¶Šå¥½.</li>
<li>è‡ªç„¶è¯­è¨€ä¸­å¸¸ç”¨çš„æŒ‡æ ‡è¿˜åŒ…æ‹¬ BLEU (æœºå™¨ç¿»è¯‘), ROUGE (ä¿¡æ¯æ£€ç´¢)...</li>
</ul>
<h3 id="inference">8.3  Inference</h3>
<p>è‡ªå›å½’ LM å¦‚ä½•é‡‡æ ·ç”Ÿæˆä¸€ä¸ªå¥å­?</p>
<p>æœ€è‡ªç„¶çš„åŠæ³•:</p>
<ul>
<li>è¾“å…¥ <span class="math inline">\(\texttt{[SOS]}\)</span>,
æ ¹æ®æ¨¡å‹çš„è¾“å‡º <span class="math inline">\(p_\theta(x_1)\)</span>
éšæœºé‡‡æ ·å¾—åˆ° <span class="math inline">\(\hat{x}_1\)</span>.</li>
<li>æŠŠé‡‡æ ·ç»“æœ <span class="math inline">\(\hat{x}_1\)</span>
é€è¿›æ¨¡å‹ä¸­, å†æ ¹æ®è¾“å‡º <span class="math inline">\(p_\theta(x_2\mid\hat{x}_1)\)</span> éšæœºé‡‡æ ·å¾—åˆ°
<span class="math inline">\(\hat{x}_2\)</span>.</li>
<li>ä»¥æ­¤ç±»æ¨, ç›´åˆ°è¾“å‡ºç‰¹æ®Š token <span class="math inline">\(\texttt{[EOS]}\)</span> (end of sequence),
æˆ–è€…è¾¾åˆ°é¢„å®šé•¿åº¦ç­‰.</li>
</ul>
<p>è¿™ç§æ–¹æ³•ç§°ä¸º<strong>éšæœºé‡‡æ · (stochastic sampling)</strong>.
éšæœºé‡‡æ ·çš„ç»“æœæœ‰å¾ˆå¼ºçš„å¤šæ ·æ€§ / éšæœºæ€§, ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾: è¾“å‡º <span class="math inline">\(\hat{x}_i\)</span> éšæœºæ€§å¤ªå¼º,
å¾ˆæœ‰å¯èƒ½éšæœºåˆ°ä¸€ä¸ªé”™è¯¯çš„ç»“æœ, ä¹‹åæ¨¡å‹åœ¨é”™è¯¯çš„åŸºç¡€ä¸Šé¢„æµ‹, å®¹æ˜“
â€œä¸€æ­¥é”™æ­¥æ­¥é”™â€ (è§ä¸Šæ–‡ exposure bias).</p>
<p>ä¸ºäº†æå‡å‡†ç¡®æ€§, å¯ä»¥é‡‡ç”¨ <strong>top-<span class="math inline">\(k\)</span> é‡‡æ ·</strong>, å³ä» <span class="math inline">\(p_\theta(x_i\mid\hat{x}_{1:i-1})\)</span>
ä¸­é€‰å–æ¦‚ç‡æœ€å¤§çš„ <span class="math inline">\(k\)</span> ä¸ª tokens,
ä»ä¸­éšæœºé‡‡æ ·.</p>
<ul>
<li>å½“ <span class="math inline">\(k=1\)</span> æ—¶, ç›¸å½“äºå–æ¦‚ç‡æœ€å¤§çš„
token, å³è´ªå¿ƒæœç´¢ç®—æ³• (æ²¡æœ‰éšæœºæ€§).</li>
</ul>
<p>å¦ä¸€ç§æ–¹æ³•æ˜¯ <strong>top-<span class="math inline">\(p\)</span>
é‡‡æ ·</strong>, å³ä» <span class="math inline">\(p_\theta(x_i\mid\hat{x}_{1:i-1})\)</span>
ä¸­æ¦‚ç‡å¤§äºç­‰äº <span class="math inline">\(p\)</span> çš„ tokens
ä¸­é‡‡æ ·.</p>
<p>ä»¥ä¸Šçš„é‡‡æ ·æ–¹æ³•éƒ½æ˜¯å±€éƒ¨çš„, å³æœ€å¤§åŒ–æ¯ä¸ªæ¡ä»¶æ¦‚ç‡ <span class="math inline">\(p_\theta(x_i\mid\hat{x}_{1:i-1})\)</span>.
è¿™æ ·å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜. ä¸€ä¸ªç¨å¥½äº›çš„æ–¹æ³•æ˜¯<strong>æŸæœç´¢ (beam
search)</strong>, å³æ¯æ¬¡é€‰å–æ¡ä»¶æ¦‚ç‡ <span class="math inline">\(p_\theta(x_i\mid\hat{x}_{1:i-1})\)</span>
å‰è‹¥å¹²åçš„ tokens ä½œä¸ºå€™é€‰, ç»´æŠ¤ä¸€ä¸ªå€™é€‰çš„é›†åˆ,
æœ€ç»ˆé€‰æ‹©è”åˆæ¦‚ç‡æœ€å¤§çš„åºåˆ—. æŸæœç´¢æ˜¯è´ªå¿ƒç®—æ³•çš„ä¸€ç§æ”¹è¿›,
ä½†ä¹Ÿä¸èƒ½ä¿è¯å¾—åˆ°è”åˆæ¦‚ç‡ <span class="math inline">\(p_\theta(x_{1:L})\)</span> çš„æœ€å¤§å€¼ç‚¹.</p>
<ul>
<li>æŸæœç´¢åœ¨æœºå™¨ç¿»è¯‘ä¸­å¸¸ç”¨.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">é‡‡æ ·æ–¹æ³•</th>
<th style="text-align: center;">éšæœºé‡‡æ ·</th>
<th style="text-align: center;">Top-<span class="math inline">\(k\)</span> é‡‡æ ·</th>
<th style="text-align: center;">è´ªå¿ƒæœç´¢</th>
<th style="text-align: center;">æŸæœç´¢</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">é€Ÿåº¦</td>
<td style="text-align: center;">å¿«</td>
<td style="text-align: center;">å¿«</td>
<td style="text-align: center;">å¿«</td>
<td style="text-align: center;">æ…¢</td>
</tr>
<tr>
<td style="text-align: center;">å¤šæ ·æ€§</td>
<td style="text-align: center;">ğŸ˜„ğŸ˜„ğŸ˜„</td>
<td style="text-align: center;">ğŸ˜„ğŸ˜„</td>
<td style="text-align: center;">ğŸ™</td>
<td style="text-align: center;">ğŸ˜„</td>
</tr>
<tr>
<td style="text-align: center;">å‡†ç¡®åº¦</td>
<td style="text-align: center;">ğŸ™</td>
<td style="text-align: center;">ğŸ˜„</td>
<td style="text-align: center;">ğŸ˜„</td>
<td style="text-align: center;">ğŸ˜„ğŸ˜„</td>
</tr>
</tbody>
</table>
<div class="note note-warning">
<p><u>Note</u> æ€»ç»“ RNN å’Œ Transformer çš„è®­ç»ƒä¸ç”Ÿæˆé€Ÿåº¦.</p>
<p>è€ƒè™‘åœ¨ä¸€ä¸ªåºåˆ— <span class="math inline">\((x_1,\dots,x_L)\)</span>
ä¸Šè®­ç»ƒ / ç”Ÿæˆçš„æ—¶é—´å¤æ‚åº¦:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">æ¨¡å‹</th>
<th style="text-align: center;">RNN</th>
<th style="text-align: center;">Transformer</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">è®­ç»ƒ</td>
<td style="text-align: center;"><span class="math inline">\(O(L)\)</span> (æ— æ³•å¹¶è¡Œ)</td>
<td style="text-align: center;"><span class="math inline">\(O(L^2)\)</span> (å¯ä»¥å¹¶è¡Œ)</td>
</tr>
<tr>
<td style="text-align: center;">æ¨ç†</td>
<td style="text-align: center;"><span class="math inline">\(O(L)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(O(L^2)\)</span></td>
</tr>
</tbody>
</table>
<p>åœ¨è®­ç»ƒæ—¶, å°½ç®¡ RNN è®¡ç®—ä»£ä»·ä½, ä½†å®ƒæ²¡æ³•å¹¶è¡ŒåŒ–, æ•ˆç‡ä¹Ÿå¾ˆä½. åœ¨æ¨ç†æ—¶,
ç”±äºéƒ½æ˜¯ä»é›¶å¼€å§‹ç”Ÿæˆ, æ— æ³•å¹¶è¡ŒåŒ–, æ‰€ä»¥ Transformer
è®¡ç®—ä»£ä»·é«˜çš„å¼Šç«¯å°±æš´éœ²å‡ºæ¥äº†.</p>
<p>*æ³¨: Transformer åœ¨ç”Ÿæˆé•¿åº¦ä¸º <span class="math inline">\(L\)</span>
çš„åºåˆ—æ—¶, ç”±äºæ¯æ¬¡åªèƒ½ç”Ÿæˆä¸€ä¸ª token, æ‰€ä»¥éœ€è¦é€ä¸ªç”Ÿæˆé•¿åº¦ä¸º <span class="math inline">\(1,2,3\dots,L-1,L\)</span> çš„åºåˆ—, æ€»å¤æ‚åº¦ <span class="math inline">\(O(L^3)\)</span>. å¤§å®¶ä¸€èˆ¬ä¼šä½¿ç”¨ key-value cache
é¿å…é‡å¤è®¡ç®—, å°†æ€»å¤æ‚åº¦é™ä¸º <span class="math inline">\(O(L^2)\)</span>.</p>
</div>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Non-parametric method, å‚æ•°ä¸ªæ•°ä¸å›ºå®š,
éšç€è®­ç»ƒæ•°æ®è€Œå˜åŒ–.<a href="#fnref1" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol>
</section>
</body></html>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Note/" class="category-chain-item">Note</a>
  
  
    <span>></span>
    
  <a href="/categories/Note/Course/" class="category-chain-item">Course</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" class="print-no-link">#æœºå™¨å­¦ä¹ </a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 3 è‡ªå›å½’æ¨¡å‹</div>
      <div>https://disembo.github.io/Note/Course/gen-models/3/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>jin</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´10æœˆ13æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">
                  <span class="hint--top hint--rounded" aria-label="SA - ç›¸åŒæ–¹å¼å…±äº«">
                    <i class="iconfont icon-sa"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/Note/Course/gen-models/4/" title="ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 4 ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 4 ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/Note/Course/gen-models/2/" title="ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 2 Transformers">
                        <span class="hidden-mobile">ç”Ÿæˆæ¨¡å‹åŸºç¡€ | 2 Transformers</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'Disembo/blog-comments');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        Views: 
        <span id="busuanzi_value_site_pv"></span>
        
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        Visitors: 
        <span id="busuanzi_value_site_uv"></span>
        
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
